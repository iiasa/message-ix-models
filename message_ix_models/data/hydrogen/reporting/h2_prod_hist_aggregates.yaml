# Aggregation rules for hydrogen production reporting
# Defines hierarchical aggregations of production variables
#
# NOTE: Unit conversion and stoichiometric factors are applied at the LEAF LEVEL ONLY (in h2_prod.yaml).
# Aggregates sum already-converted values, so no original_unit or factors are needed here.
# The aggregation happens at the IAMC variable level (after processing), not at the MESSAGE data level.

var: out_hist
iamc_prefix: Production|
unit: EJ/yr

level_1:
  Hydrogen|Gas:
    short: prod_h2_gas
    components: [ prod_h2_smr_wo_ccs, prod_h2_smr_w_ccs, prod_h2_pyro ]
  Hydrogen|Coal:
    short: prod_h2_coal
    components: [ prod_h2_coal_wo_ccs, prod_h2_coal_w_ccs ]
  Hydrogen|Biomass:
    short: prod_h2_bio
    components: [ prod_h2_bio_wo_ccs, prod_h2_bio_w_ccs ]
  Hydrogen|Electricity:
    short: prod_h2_elec
    components: [ prod_h2_elec_alkaline, prod_h2_elec_pem, prod_h2_elec_soe, prod_h2_elec_legacy ]
  # Hydrogen|Refinery:
  #   short: prod_h2_refinery
  #   components: [ prod_h2_refinery ]

level_2:
  Hydrogen:
    short: prod_h2
    # components: [ prod_h2_gas, prod_h2_coal, prod_h2_bio, prod_h2_elec, prod_h2_refinery ]
    components: [ prod_h2_gas, prod_h2_coal, prod_h2_bio, prod_h2_elec ]


