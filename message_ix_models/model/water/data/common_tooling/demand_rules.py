# dsl rules for water demand transformation; each defines the source data key(s)
DSL_RULES = [
    {
        "commodity": "urban_mw",
        "withdrawal": "urban_withdrawal",
        "rate": "urban_connection_rate",
        "conversion": 1e-3,
        "rate_op": "identity",
        "sign": 1,
    },
    {
        "commodity": "urban_disconnected",
        "withdrawal": "urban_withdrawal",
        "rate": "urban_connection_rate",
        "conversion": 1e-3,
        "rate_op": "invert",
        "sign": 1,
    },
    {
        "commodity": "rural_mw",
        "withdrawal": "rural_withdrawal",
        "rate": "rural_connection_rate",
        "conversion": 1e-3,
        "rate_op": "identity",
        "sign": 1,
    },
    {
        "commodity": "rural_disconnected",
        "withdrawal": "rural_withdrawal",
        "rate": "rural_connection_rate",
        "conversion": 1e-3,
        "rate_op": "invert",
        "sign": 1,
    },
    {
        "commodity": "industry_mw",
        "withdrawal": "manufacturing_withdrawal",
        "conversion": 1e-3,
        "rate_op": None,
        "sign": 1,
    },
    {
        "commodity": "industry_uncollected_wst",
        "withdrawal": "manufacturing_return",
        "conversion": 1e-3,
        "rate_op": None,
        "sign": -1,
    },
    {
        "commodity": "urban_collected_wst",
        "withdrawal": "urban_return",
        "rate": "urban_treatment_rate",
        "conversion": 1e-3,
        "rate_op": "identity",
        "sign": -1,
    },
    {
        "commodity": "rural_collected_wst",
        "withdrawal": "rural_return",
        "rate": "rural_treatment_rate",
        "conversion": 1e-3,
        "rate_op": "identity",
        "sign": -1,
    },
    {
        "commodity": "urban_uncollected_wst",
        "withdrawal": "urban_return",
        "rate": "urban_treatment_rate",
        "conversion": 1e-3,
        "rate_op": "invert",
        "sign": -1,
    },
    {
        "commodity": "rural_uncollected_wst",
        "withdrawal": "rural_return",
        "rate": "rural_treatment_rate",
        "conversion": 1e-3,
        "rate_op": "invert",
        "sign": -1,
    },
]